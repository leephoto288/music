<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Auto Play Music</title>
</head>
<body>
  <audio id="bgm" loop preload="auto">
    <source src="https://files.catbox.moe/6vhdyl.mp3" type="audio/mpeg">
  </audio>

  <script>
    const music = document.getElementById("bgm");

    // Khi người dùng cuộn hoặc chạm vào bất cứ đâu (Google Sites iframe sẽ gửi sự kiện này)
    function tryPlay() {
      if (music.paused) {
        music.play()
          .then(() => console.log("Đã phát nhạc!"))
          .catch(err => console.log("Trình duyệt chặn autoplay:", err));
      }
    }

    // Sự kiện trong iframe (Google Sites)
    window.addEventListener("message", (e) => {
      if (e.data === "user-interact") tryPlay();
    });

    // Nếu mở trực tiếp GitHub Page, vẫn phát khi chạm hoặc cuộn
    document.addEventListener("scroll", tryPlay, { once: true });
    document.addEventListener("click", tryPlay, { once: true });
    document.addEventListener("touchstart", tryPlay, { once: true });
  </script>
</body>
</html>
